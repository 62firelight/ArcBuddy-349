<h1>Tower Vendors</h1>

<div class="vendors" *ngIf="fetchingVendors == false">
    <div class="vendor-block" *ngFor="let vendor of vendors | keyvalue">
        <img id="vendor-icon" src="https://www.bungie.net{{vendor.key.displayProperties.largeIcon}}" [title]="vendor.key.displayProperties.name">
        <div class="vendor-info">
            <strong>{{ vendor.key.displayProperties.name }}</strong>
            <br>
            <small>{{ vendor.key.displayProperties.subtitle }}</small>
        </div>

        <div class="vendor-categories">
            <div class="vendor-category" *ngFor="let category of vendor.value | keyvalue">
                <h2>{{ category.key }}</h2>
                <mat-divider></mat-divider>
                
                <div class="vendor-items">
                    <img *ngFor="let vendorItem of category.value" 
                        
                        src="https://www.bungie.net{{vendorItem.displayProperties.icon}}" 
                        [alt]="vendorItem.displayProperties.name" 
                        [title]="vendorItem.displayProperties.name">
                </div>
                
                <!-- <ul>
                    <li *ngFor="let vendorItem of category.value">
                        <img src="https://www.bungie.net{{vendorItem.displayProperties.icon}}" [alt]="vendorItem.displayProperties.name" [title]="vendorItem.displayProperties.name">
                    </li>
                </ul> -->
            </div>
        </div>

        <!-- <ul>
                <li>
                    
                </li>
            </ul> -->
        <!-- <ul *ngFor="let vendorItem of vendor.value">
                <li>
                    <img [src]="vendorItem.icon" [alt]="vendorItem.name" [title]="vendorItem.name">
                </li>
            </ul> -->
    </div>
</div>

<div class="in-progress" *ngIf="fetchingVendors">
    <mat-spinner [diameter]="50">
    </mat-spinner>
    Fetching vendors...
</div>